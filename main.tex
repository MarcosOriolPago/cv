\documentclass[10pt,a4paper,ragged2e,withhyper]{altacv}

% -----------------------
% PACKAGES
% -----------------------
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{paracol} % Needed for two-column layout
\usepackage{graphicx}
\usepackage{svg}
\svgpath{{icons/}}
\usepackage{fontawesome5}
\usepackage{hyperref}
\usepackage{pgfplots}
\usepackage{tikz}
\usepackage{enumitem}
\usepackage{xcolor}
\usepackage{geometry}
\usepackage{ragged2e, microtype} % ensure this is in the preamble
\usetikzlibrary{shapes, shadows}

% -----------------------
% MODERN DEVELOPER FONTS
% -----------------------
% Use monospace font for developer aesthetic
\usepackage{lmodern}
\renewcommand{\familydefault}{\ttdefault} % Use typewriter font
\usepackage[scaled=0.85]{beramono} % Modern monospace font

% -----------------------
% DOCKER-INSPIRED COLOR PALETTE
% -----------------------
\definecolor{DockerBlue}{HTML}{2496ED}      % Docker Primary Blue
\definecolor{DockerDark}{HTML}{24292F}      % GitHub Dark
\definecolor{DockerLight}{HTML}{F6F8FA}     % GitHub Light Background
\definecolor{DockerGray}{HTML}{6A737D}      % GitHub Gray Text
\definecolor{DockerSuccess}{HTML}{28A745}   % Success Green
\definecolor{DockerWarning}{HTML}{FFC107}   % Warning Yellow
\definecolor{DockerDanger}{HTML}{DC3545}    % Error Red
\definecolor{DockerPurple}{HTML}{6F42C1}    % Purple accent
\definecolor{DockerBorder}{HTML}{E1E4E8}    % Light border

% Modern color assignments
\colorlet{heading}{DockerBlue}
\colorlet{accent}{DockerBlue}
\colorlet{emphasis}{DockerDark}
\colorlet{body}{DockerGray}
\colorlet{lightbg}{DockerLight}
\colorlet{border}{DockerBorder}

% -----------------------
% MODERN 2024 LAYOUT
% -----------------------
\geometry{margin=0.5cm} % 1cm margins as requested
\usetikzlibrary{positioning,shapes.geometric,arrows.meta,shadows,decorations.pathreplacing}
\usepackage{tcolorbox}
\tcbuselibrary{skins}
\usepackage{tikz}

% Card with tiny light border, rounded corners
\tcbset{
  vercelcard/.style={
    enhanced,
    boxrule=0.4pt,
    colback=white,
    colframe=DockerBorder,
    arc=6pt,
    outer arc=6pt,
    top=14pt,
    bottom=14pt,
    left=18pt,
    right=18pt,
    boxsep=0pt
  }
}

% Timeline card with light border
\tcbset{
  timelinecard/.style={
    enhanced,
    boxrule=0.5pt,
    colback=white,
    colframe=DockerBorder,
    arc=6pt,
    top=12pt,
    bottom=12pt,
    left=16pt,
    right=16pt
  }
}

% Modern skill icon with SVG support (SVG files in icons/)
% Use center baseline and zero inner sep to avoid vertical misalignment across SVGs
\newcommand{\skillicon}[2]{%
  \tikz[baseline=(icon.center)]{
    \node[circle, fill=#1!8, draw=#1!20, minimum size=22pt, inner sep=0pt] (icon) {\includesvg[width=12pt,height=12pt]{#2}};
  }%
}

% Fallback text icon for missing SVGs
\newcommand{\textskillicon}[2]{%
  \tikz[baseline=(icon.base)]{
    \node[circle, fill=#1!8, draw=#1!20, minimum size=22pt, font=\tiny\ttfamily] (icon) {#2};
  }%
}

% Timeline node command
\newcommand{\timelinenode}[1]{%
  \tikz[baseline=(node.base)]{
    \node[circle, fill=#1, minimum size=12pt, inner sep=0pt] (node) {};
  }%
}

% Timeline layout paddings and fixed text width
\newlength{\timelineLeftPad}
\newlength{\timelineRightPad}
\newcommand{\timelineTextWidth}{\dimexpr\linewidth-\timelineLeftPad-\timelineRightPad\relax}
\tikzset{timelineTextNode/.style={text width=\timelineTextWidth, inner sep=0pt, align=justify}}


% Horizontal percentage skill bar
\newcommand{\skillbar}[2]{%
  \noindent\textbf{#1}\hfill{\small #2\%}\par\vspace{2pt}%
  \begin{tikzpicture}[x=\linewidth,y=1cm]
    \fill[DockerBorder] (0,0) rectangle (1,0.12);
    \pgfmathsetmacro{\p}{#2/100}
    \fill[DockerBlue] (0,0) rectangle (\p,0.12);
  \end{tikzpicture}\vspace{4pt}
}

% Project item macro (uniform format)
\newcommand{\projectitem}[3]{%
  \textbf{#1}\\
  \textcolor{body}{#2}\\[4pt]
  % Only show GitHub tag if #3 is not empty
  \if\relax\detokenize{#3}\relax
    % do nothing
  \else
    \cvtag{\faGithub\ \href{https://github.com/#3}{#3}}\\
  \fi
}

% -----------------------
% PERSONAL INFO
% -----------------------
\name{Marcos Oriol Pagonabarraga}
\tagline{Neuroengineer - Software Engineer}
\photoL{3cm}{photo.png} % ‚Üê Add your photo.png in same folder or comment this line

\personalinfo{
  \email{marcos.oriol.p@gmail.com}
  \phone{+34 626 027 986}
  \github{MarcosOriolPago}
  \linkedin{marcos-oriol-pagonabarraga-a9a590143}
  \homepage{marcos.oriol-tech-com}
}

% -----------------------
% DOCUMENT BODY
% -----------------------
\begin{document}
\input{sections/header}

% Reserve space below the overlay header (optimize vertical space)
\vspace*{5.4cm}

% About content integrated into header

% Two-column layout for the rest
\columnratio{0.58}
\begin{paracol}{2}

% LEFT COLUMN -----------------------
\input{sections/experience}

\vspace{2pt}

\input{sections/skills}


% RIGHT COLUMN -----------------------
\switchcolumn

\input{sections/projects}

\vspace{2pt}

\input{sections/education}

\end{paracol}

\end{document}
